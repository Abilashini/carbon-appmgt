<ul id="newMobileAppWizard" class="nav nav-pills nav-wizard">
    <li class="active">
        <a href="#" id="wizard-step-1-link">
            Upload application/provide URL
        </a>
        <div class="nav-arrow"></div>
    </li>
    <li>
        <div class="nav-wedge"></div>
        <a href="#" id="wizard-step-2-link">
            Give application details
        </a>
        <div class="nav-arrow"></div>
    </li>
</ul>

<div id="file-upload-progress" style="display: none;">
    <h4>Uploading... Please wait.</h4>
    <div id="file-upload-progressbar-wrapper" class="progress" style="height: 15px;">
        <div id="file-upload-progressbar" class="progress-bar" role="progressbar"
             aria-valuemin="0" aria-valuemax="100" aria-valuenow="0" style="width: 0%;">
        </div>
    </div>
</div>

<div id="file-upload-success-msg" style="display: none;">
    <div class="alert alert-info container col-md-11">
        <button type="button" class="close" data-dismiss="alert">&times;</button>
        <h4>App uploaded successfully.</h4>
    </div>
</div>

<div id="wizard-step-1" class="content-div" data-backdrop="static" data-keyboard="false">
    <div class="row-fluid">
        <form id="wizard-step-1-form" class="form-horizontal">

            <div class="form-group">
                <label class="col-sm-2 control-label" for="txtPlatform">
                    Platform
                </label>
                <div class="col-sm-10">
                    {{#with artifact.attributes.overview_platform}}
                        <select id="txtPlatform" name="overview_platform"
                                class="btn dropdown-toggle btn-default border-ovrd col-sm-2"
                                disabled="disabled">
                            <option value="{{this}}" selected="selected">
                                {{#ifCond this "==" "android"}}Android{{/ifCond}}
                                {{#ifCond this "==" "ios"}}iOS{{/ifCond}}
                                {{#ifCond this "==" "webapp"}}Web App{{/ifCond}}
                            </option>
                        </select>
                    {{/with}}
                </div>
            </div>

            <div id="market-type-block" class="form-group">
                <label class="col-sm-2 control-label" for="txtStoreType">
                    Store Type
                </label>
                <div class="col-sm-10">
                    {{#with artifact.attributes.overview_type}}
                        <select id="txtStoreType" name="overview_type"
                                class="btn dropdown-toggle btn-default border-ovrd col-sm-2"
                                disabled="disabled">
                            <option value="{{this}}" selected="selected">
                                {{#ifCond this "==" "enterprise"}}Enterprise{{/ifCond}}
                                {{#ifCond this "==" "public"}}Public{{/ifCond}}
                            </option>
                        </select>
                    {{/with}}
                </div>
            </div>

            <div id="app-upload-block" class="form-group">
                {{#ifCond artifact.attributes.overview_platform "==" "webapp"}}
                    <label class="control-label col-sm-2" for="txtWebapp">
                        Web App URL <span style="color:#FF0000">*</span>
                    </label>
                    <div class="col-sm-10">
                        <input type="text" id="txtWebappUrl" name="overview_url"
                               value="{{artifact.attributes.overview_url}}"
                               class="field col-md-6"
                               placeholder="eg: http://mobile.com/webapp" /><br/>
                        <div style="font-size: xx-small">Please enter a valid url</div>
                    </div>
                {{else}}
                    {{#ifCond artifact.attributes.overview_type "==" "enterprise"}}
                        <label class="col-sm-2 control-label" for="file-upload-text">
                            App <span style="color:#FF0000">*</span>
                        </label>
                        <div id="file-upload-block" class="col-sm-10">
                            <div class="fileupload fileupload-new btn-file well"
                                 data-provides="fileupload">
                                {{#with artifact.attributes.overview_platform}}
                                    <div id="file-upload-text" class="fileupload-new">
                                        {{#ifCond this "==" "android"}}
                                            Choose .APK File
                                        {{/ifCond}}
                                        {{#ifCond this "==" "ios"}}
                                            Choose .IPA File
                                        {{/ifCond}}
                                    </div>
                                    <div class="fileupload-exists">
                                        <i class="icon-file "></i>
                                        <span class="fileupload-preview"></span>&nbsp;&nbsp;
                                        <i class="icon-edit"> </i>
                                    </div>
                                    <input type="file" id="fileAppUpload" name="file"
                                           style="display: inline;"
                                           data-url="/publisher/api/mobileapp/upload"
                                           {{#ifCond this "==" "android"}}accept="application/vnd.android.package-archive,.apk"{{/ifCond}}
                                        {{#ifCond this "==" "ios"}}accept="application/octet-stream ipa,.ipa"{{/ifCond}} />
                                {{/with}}
                            </div>
                        </div>
                    {{/ifCond}}
                    {{#ifCond artifact.attributes.overview_type "==" "public"}}
                        <label class="col-sm-2 control-label" for="txtPackageName">
                            Package Name <span style="color:#FF0000">*</span>
                        </label>
                        <div class="col-sm-10 inner-addon">
                            <input type="text" id="txtPackageName" name="overview_packagename"
                                   value="{{artifact.attributes.overview_packagename}}"
                                   class="field col-md-6"
                                   placeholder="eg: com.companyname.applicationname" />
                        </div>
                    {{/ifCond}}
                {{/ifCond}}
            </div>

            <div class="form-group">
                <div class="col-sm-10 col-sm-offset-2">
                    <a href="#" id="btn-next" class="btn btn-primary" aria-hidden="true">
                        Next
                    </a>
                </div>
            </div>

            <div class="empty-spacer"> </div>

        </form>

    </div>

</div>

<div id="wizard-step-2" class="content-div" style="display: none;">

    <div class="row-fluid">
        <form id="wizard-step-2-form" action="/publisher/api/asset/{{op}}/{{shortName}}/{{artifact.id}}"
              method="post" enctype="multipart/form-data" class="form-horizontal">

            <input type="hidden" id="appParenId" name="appParentId" value="{{artifact.id}}" />
            <input type="hidden" id="appName" name="overview_name" value="{{artifact.attributes.overview_name}}" />
            <input type="hidden" id="appPlatform" name="overview_platform" value="{{artifact.attributes.overview_platform}}" />
            <input type="hidden" id="appStoreType" name="overview_type" value="{{artifact.attributes.overview_type}}" />
            {{#ifCond artifact.attributes.overview_platform "==" "webapp"}}
                <input type="hidden" id="appWebappUrl" name="overview_url" value="{{artifact.attributes.overview_url}}" />
            {{else}}
                <!-- android or ios -->
                {{#ifCond artifact.attributes.overview_type "==" "enterprise"}}
                    <input type="hidden" id="appFileUploadMetaData" name="appFileUploadMetaData" value=""/>
                {{/ifCond}}
                {{#ifCond artifact.attributes.overview_type "==" "public"}}
                    <input type="hidden" id="appPackageName" name="overview_identifier" value="{{artifact.attributes.overview_identifier}}" />
                {{/ifCond}}
            {{/ifCond}}

            <div class="form-group">
                <label class="control-label col-sm-2" for="txtDisplayName">
                    Display Name <span style="color:#FF0000">*</span>
                </label>
                <div class="col-sm-10 inner-addon">
                    <input type="text" id="txtDisplayName" name="overview_displayName"
                           value="{{artifact.attributes.overview_displayName}}"
                           class="field col-md-6" title="Display Name" />
                </div>
            </div>
            <div class="form-group">
                <label class="control-label col-sm-2" for="txtDescription">
                    Description <span style="color:#FF0000">*</span><br>
                    <small>(Max. 1000 characters)</small>
                </label>
                <div class="col-sm-10">
					<textarea id="txtDescription" name="overview_description"
                              class="field span6" maxlength="1000" rows="12" style="width: 90%;"
                              placeholder="Enter description of the app. less than 1000 characters"
                              title="Enter description of the app. less than 1000 characters."
                            >{{artifact.attributes.overview_description}}</textarea>
                </div>
            </div>
            <div class="form-group">
                <label class="control-label col-sm-2" for="txtRecentChanges">
                    Recent Changes <br>
                    <small>(Max. 700 characters)</small>
                </label>
                <div class="col-sm-10">
					<textarea id="txtRecentChanges" name="overview_recentchanges"
                              class="field span6" maxlength="700" rows="6" style="width: 90%;"
                              placeholder="Enter recent changes you have done to the app. less than 700 characters."
                              title="Enter recent changes you have done to the app. less than 700 characters."
                            >{{artifact.attributes.overview_recentchanges}}</textarea>
                </div>
            </div>
            <div id="control-packagename" class="form-group">
                <label class="control-label col-sm-2" for="txtName">
                    Version
                </label>
                <div class="col-sm-10">
                    <input type="text" id="appVersion" name="overview_version"
                           class="field col-md-3" disabled="disabled"/>
                </div>
            </div>
            <div class="form-group">
                <label class="control-label col-sm-2" for="txtBanner">
                    Banner <span style="color:#FF0000">*</span><br>
                    <small>(705px * 344px, .png)</small>
                </label>

                <div class="col-sm-10">
                    {{#with artifact.attributes.images_banner}}
                        <div class='fileupload fileupload-{{#ifCond this "==" ""}}new{{else}}exists{{/ifCond}}'
                             data-provides="fileupload">
                            <div id="imgBannerPreviewWrapper"
                                 class="fileupload-preview fileupload-preview-banner thumbnail">
                                <img src="{{this}}" />
                            </div>
                            <div>
							<span class="btn btn-file">
								<span class="fileupload-new">
									<i class="icon-plus-sign"></i>
								</span>
								<span class="fileupload-exists">
									<i class="icon-edit"></i>
								</span>
								<input type="file" id="imgBanner" name="images_banner" />
							</span>
                                <a href="#" class="btn fileupload-exists" data-dismiss="fileupload">
                                    <i class="icon-remove"></i>
                                </a>
                            </div>
                        </div>
                    {{/with}}
                </div>
            </div>

            <div class="form-group">
                <label class="control-label col-sm-2" for="txtScreenShot">
                    Screen Shots <span style="color:#FF0000">*</span><br>
                    <small>(288px * 512px, .png)</small>
                </label>
                <div class="col-sm-10">
                    {{#for artifact.attributes.images_screenshots}}
                        <div class='fileupload fileupload-{{#ifCond this "==" ""}}new{{else}}exists{{/ifCond}}'
                             style="margin-right: 10px;" data-provides="fileupload">
                            <div id="imgScreenshotPreviewWrapper-{{index}}"
                                 class="fileupload-preview fileupload-preview-icon thumbnail"
                                 style="line-height: 160px;">
                                <img src="{{this}}"/>
                            </div>
                            <div>
								<span class="btn btn-file">
									<span class="fileupload-new">
										<i class="icon-plus-sign"></i>
									</span>
									<span class="fileupload-exists">
										<i class="icon-edit"></i>
									</span>
									<input type="file" id="imgScreenshot{{index}}" name="images_screenshot{{index}}"
                                           class="uploadAction" data-url="/publisher/api/apps/upload"/>
								</span>
                                <a href="#" class="btn fileupload-exists" data-dismiss="fileupload">
                                    <i class="icon-remove"></i>
                                </a>
                            </div>
                        </div>
                    {{/for}}
                </div>
            </div>

            <div class="form-group">
                <label class="control-label col-sm-2" for="txtIconfile">
                    Icon file <span style="color:#FF0000">*</span>
                </label>
                <div class="col-sm-10">
                    {{#with artifact.attributes.images_thumbnail}}
                        <div class='fileupload fileupload-{{#ifCond this "==" ""}}new{{else}}exists{{/ifCond}}'
                             data-provides="fileupload">
                            <div id="imgThumbnailPreviewWrapper"
                                 class="fileupload-preview fileupload-preview-icon thumbnail"
                                 style="line-height: 160px;">
                                <img src="{{this}}" />
                            </div>
                            <div>
							<span class="btn btn-file">
								<span class="fileupload-new">
									<i class="icon-plus-sign"></i>
								</span>
							<span class="fileupload-exists">
								<i class="icon-edit"></i>
							</span>
								<input type="file" id="imgThumbnail" name="images_thumbnail" />
							</span>
                                <a href="#" class="btn fileupload-exists" data-dismiss="fileupload">
                                    <i class="icon-remove"></i>
                                </a>
                            </div>
                        </div>
                    {{/with}}
                </div>
            </div>

            <div class="form-group">
                <div class="col-sm-10 col-sm-offset-2">
                    <input type="submit" id="btnCreateNewVersion" value="Create New Version"
                           class="btn btn-primary" />
                    <a href="/publisher/assets/mobileapp/" class="btn btn-mob-cancel">Cancel</a>
                </div>
            </div>

        </form>
    </div>

</div>

<div id="message-modal" class="modal fade" tabindex="-1" role="dialog"
     aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header" data-type="warning">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                    &times;
                </button>
                <h4 class="modal-title">Modal title</h4>
            </div>
            <div class="modal-body">Modal body</div>
            <div class="modal-footer">
                <button type="button" id="message-modal-button" class="btn btn-default"
                        data-dismiss="modal">
                    Close
                </button>
            </div>
        </div>
    </div>
</div>

<style type="text/css">
    input[type="file"] {
        display: inline;
    }
</style>
